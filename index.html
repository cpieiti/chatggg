<!DOCTYPE html>
<html>
  <head>
    <title>ChatGPT Demo</title>
    <style>
      /* CSS styles for the chat conversation */
      .user {
        color: blue;
      }
      .assistant {
        color: green;
      }
    </style>
  </head>
  <body>
    <div id="chat-container"></div>
    <input type="text" id="user-input" />
    <button onclick="handleUserInput()">Send</button>

    <script>
async function sendMessage(message) {
  const apiKey = 'YOUR_API_KEY'; // Replace 'YOUR_API_KEY' with your actual API key

  const response = await fetch('https://api.openai.com/v1/engines/davinci/completions', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${apiKey}`
    },
    body: JSON.stringify({
      'prompt': message,
      'max_tokens': 50
    })
  });

  const data = await response.json();

  // Extract assistant's reply from the API response
  const assistantReply = data.choices[0].text;

  return assistantReply;
}

      function addMessageToChat(message, role) {
        const chatContainer = document.getElementById('chat-container');
        const messageElement = document.createElement('div');
        messageElement.classList.add(role);
        messageElement.textContent = message;
        chatContainer.appendChild(messageElement);
      }

    sync function handleUserInput() {
  const userInput = document.getElementById('user-input').value;
  addMessageToChat(userInput, 'user');

  const assistantReply = await sendMessage(userInput);
  addMessageToChat(assistantReply, 'assistant');

  // Clear user input
  document.getElementById('user-input').value = '';
}



    </script>
  </body>
</html>
